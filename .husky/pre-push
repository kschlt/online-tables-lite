#!/usr/bin/env sh

# AI-Era Branch Protection for Push
current_branch=$(git rev-parse --abbrev-ref HEAD)

if [ "$current_branch" = "main" ] || [ "$current_branch" = "production" ]; then
    echo ""
    echo "ğŸš¨ AI PROTECTION: Direct push to $current_branch blocked!"
    echo ""
    echo "ğŸ’¡ Use pull requests:"
    echo "   git push origin feature/your-change"
    echo "   # Then create PR on GitHub"
    echo ""
    echo "ğŸ›¡ï¸  This prevents accidental direct pushes to protected branches."
    exit 1
else
    echo "âœ… Pushing feature branch: $current_branch"
    echo "ğŸ” AI protection: ACTIVE"
fi
