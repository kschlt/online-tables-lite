#!/usr/bin/env sh

# AI-Era Branch Protection for Push
current_branch=$(git rev-parse --abbrev-ref HEAD)

if [ "$current_branch" = "main" ] || [ "$current_branch" = "production" ]; then
    echo ""
    echo "🚨 AI PROTECTION: Direct push to $current_branch blocked!"
    echo ""
    echo "💡 Use pull requests:"
    echo "   git push origin feature/your-change"
    echo "   # Then create PR on GitHub"
    echo ""
    echo "🛡️  This prevents accidental direct pushes to protected branches."
    exit 1
else
    echo "✅ Pushing feature branch: $current_branch"
    echo "🔍 AI protection: ACTIVE"
fi
